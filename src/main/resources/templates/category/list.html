<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Category Manager</title>
    <link rel="stylesheet" th:href="@{/css/review.css}"/>
    <script>
        const successMessage = `[[${successMessage}]]`;
        if (successMessage) alert(successMessage);

        const errorMessage = `[[${errorMessage}]]`;
        if (errorMessage) alert(errorMessage);
    </script>
</head>
<body>
<a href="/">
    <div th:replace="common/header.html"/>
</a>
<div name="contents" align="center">
    <h1>Category Manger</h1>

    <!-- ì¡°íšŒí•  ì‘ì—…ì„ ì„ íƒí•œë‹¤. -->
    <div>
        <a th:href="@{/category/list/selected(operation='create')}">ğŸ“ Create</a> |
        <a th:href="@{/category/list/selected(operation='read')}">ğŸ‘€ Read</a> |
        <a th:href="@{/category/list/selected(operation='update')}">âœï¸ Update</a> |
        <a th:href="@{/category/list/selected(operation='delete')}">ğŸ—‘ï¸ Delete</a>
    </div>
    <br>
    <div>
        <!-- ì„ íƒí•œ ì‘ì—…ì— ë”°ë¼ í™”ë©´ì´ ë³´ì—¬ì§„ë‹¤. -->
        <div th:if="${ selected != null}">

            <form th:unless="${ selected == 'read' }" th:action="@{|/category/${selected}|}" method="post">
                <th:block th:switch="${ selected }">
                    <span th:case="create">ì¶”ê°€í•  ì¹´í…Œê³ ë¦¬ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.
                        <input type="text" name="categoryName">
                    </span>

                    <span th:case="update">ìˆ˜ì •í•  ì¹´í…Œê³ ë¦¬ ì´ë¦„ê³¼ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
                        <br>
                        <input type="number" name="categoryNo" placeholder="ì½”ë“œ">
                        <input type="text" name="categoryName" placeholder="ì´ë¦„">
                    </span>


                    <span th:case="delete">ì‚­ì œí•  ì¹´í…Œê³ ë¦¬ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
                    <input type="number" name="categoryNo">
                    </span>
                </th:block>
                <input type="submit" th:value="${selected}">
            </form>

            <form th:if="${ selected == 'read'}" th:action="@{|/category/${selected}|}" method="get">
                <th:block th:switch="${ selected }">
                <span th:case="read">ì¡°íšŒí•  ì¹´í…Œê³ ë¦¬ ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.
                    <input type="number" name="categoryNo">
                </span>
                </th:block>
                <input type="submit" th:value='read'>
            </form>
        </div>

        <!-- ìƒì„¸ ì¡°íšŒ ê²°ê³¼ ì¶œë ¥ -->
        <th:block th:object="${ oneCategory }" th:if="${ oneCategory != null }">
            <table border="1">
                <tr>
                    <th>ì½”ë“œ</th>
                    <th>ì´ë¦„</th>
                </tr>
                <tr>
                    <td th:text="*{ categoryNo }"></td>
                    <td th:text="*{ categoryName }"></td>
                </tr>
            </table>
        </th:block>
        <h3>ğŸ§¾Category ViewPort</h3>
        <!-- ì „ì²´ ì¹´í…Œê³ ë¦¬ ì¶œë ¥ -->
        <table border="1" th:if="${ categoryList != null }">
            <tr>
                <th>no</th>
                <th>category name</th>
            </tr>
            <tr th:each="category : ${categoryList}">
                <td th:text="${ category.categoryNo}"></td>
                <td th:text="${ category.categoryName}"></td>
            </tr>
        </table>
        <p th:if="${ categoryList == null }">âš ï¸ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆì–´ìš”.âš ï¸</p>
    </div>
</div>
</body>
</html>